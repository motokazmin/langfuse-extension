#!/bin/bash

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

set -e

echo "ðŸ“ Ð¡Ð¾Ð·Ð´Ð°ÑŽ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°..."

cat > .cursor/context/base.md << 'EOF'
# Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°: Langfuse Extension

## Ðž Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ

**ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:** Langfuse AI Trace Analyzer  
**Ð¦ÐµÐ»ÑŒ:** AI-powered Ð°Ð½Ð°Ð»Ð¸Ð· Ñ‚Ñ€ÐµÐ¹ÑÐ¾Ð² Ð´Ð»Ñ Langfuse (Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð´ÐµÑ‚ÐµÐºÑ†Ð¸Ñ ÑƒÐ·ÐºÐ¸Ñ… Ð¼ÐµÑÑ‚, Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸, Ñ†Ð¸ÐºÐ»Ð¾Ð²)

## ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

### ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:

1. **ai-back/** - Go backend
   - Ð Ð°Ð·Ð¼ÐµÑ€: 858 ÑÑ‚Ñ€Ð¾Ðº (2 Ñ„Ð°Ð¹Ð»Ð°)
   - `main.go` (349 ÑÑ‚Ñ€Ð¾Ðº) - HTTP ÑÐµÑ€Ð²ÐµÑ€, endpoints
   - `ai/client.go` (394 ÑÑ‚Ñ€Ð¾Ðº) - AI ÐºÐ»Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
   - Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸: OpenRouter/Ollama Ð´Ð»Ñ LLM
   - .env Ñ„Ð°Ð¹Ð»: ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÐ½ (API ÐºÐ»ÑŽÑ‡Ð¸)

2. **crome-ext/** - Chrome Extension
   - Ð Ð°Ð·Ð¼ÐµÑ€: 78 ÑÑ‚Ñ€Ð¾Ðº TypeScript (6 Ñ„Ð°Ð¹Ð»Ð¾Ð²)
   - `injector.ts` (491 ÑÑ‚Ñ€Ð¾Ðº) - Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°
   - `content-script/` - Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Langfuse UI
   - Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ ÐºÐ½Ð¾Ð¿ÐºÑƒ "AI-ÐÐ½Ð°Ð»Ð¸Ð·" Ð² Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Langfuse

3. **test-tasks/** - Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚ (ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼)
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¾Ð²
   - ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½Ðµ ÐºÐ°ÑÐ°ÐµÑ‚ÑÑ

4. **cursor-langfuse-ext/** - Cursor hooks (ÐÐ• Ñ‚Ñ€Ð¾Ð³Ð°ÐµÐ¼)
   - ÐšÐ»Ð¾Ð½ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Cursor Ñ Langfuse

## Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº

- **Backend:** Go 1.21+, Gin framework
- **Frontend:** TypeScript, Vite, Chrome Extensions API
- **AI:** OpenRouter API (Claude, GPT-4, Gemini) / Ollama
- **Observability:** Langfuse

## Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ñ‹ ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### Go:
- **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°:** Clean Architecture (handler â†’ service â†’ repository)
- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº: Ð²ÑÐµÐ³Ð´Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ, Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
- Ð¢ÐµÑÑ‚Ñ‹: testify Ð´Ð»Ñ assertions
- ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸: Godoc Ð´Ð»Ñ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
- **Ð Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ:** Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ (DI-friendly)

### TypeScript:
- Strict mode: Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½
- Ð¢Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ: Ð¸Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ `any`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹
- Async/await: Ð´Ð»Ñ Ð²ÑÐµÑ… Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹
- Chrome API: Ð²ÑÐµÐ³Ð´Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ
- **Ð Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ:** ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°, Ð»ÐµÐ³ÐºÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ„Ð¸Ñ‡Ð¸

### ÐžÐ±Ñ‰ÐµÐµ:
- **Clean Architecture Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹:**
  - ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚ Ñ„Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¾Ð²
  - Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ (Ð¼Ð¾ÐºÐ¸ Ð´Ð»Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹)
  - ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚ UI/DB/Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
  - Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ° Ð² Ñ†ÐµÐ½Ñ‚Ñ€Ðµ (Ð½Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸)
- Ð˜Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ: camelCase (TS/JS), snake_case (Ð½Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ð¾ Ð·Ð´ÐµÑÑŒ)
- ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹: Conventional Commits (feat/fix/refactor/docs/test/chore)
- Ð¢ÐµÑÑ‚Ñ‹: Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 50% coverage Ð´Ð»Ñ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿ÑƒÑ‚ÐµÐ¹

## ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ñ‹ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸

1. **ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ¾Ð´Ð°** - Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ, Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº, Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ
2. **Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ** - unit + integration Ñ‚ÐµÑÑ‚Ñ‹
3. **Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** - ÐºÐ¾Ð´ + Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸
4. **ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ** - Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑƒÐ·ÐºÐ¸Ñ… Ð¼ÐµÑÑ‚

## Ð˜ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð· Ð°Ð½Ð°Ð»Ð¸Ð·Ð°

- `cursor-langfuse-ext/` - Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ (Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ ÐºÐ»Ð¾Ð½)
- `test-tasks/` - Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°Ñ‚ÑŒ (Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚)
- `node_modules/`, `dist/`, `build/` - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
- `.env` Ñ„Ð°Ð¹Ð»Ñ‹ - Ð½Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ñ‚ÑŒ, Ð½Ð¾ Ð²Ð°Ð¶Ð½Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

## ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

- **ÐœÐµÑ‚Ð°-Ñ†ÐµÐ»ÑŒ:** Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ Cursor
- **Ð¢Ñ€ÐµÐ¹ÑÐ¸Ð½Ð³:** Ð’ÑÐµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Cursor â†’ Langfuse Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
- **Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐµ:** ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÑ‚ÑŒÑÑ Ðº production Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼
EOF

echo "âœ… Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½: .cursor/context/base.md"
cat .cursor/context/base.md
